<pre style="color:#d1d1d1;background:#343a40;"><span style="color:#e66170; font-weight:bold; ">vector</span> <span style="color:#b060b0; ">&lt;</span><span style="color:#e66170; font-weight:bold; ">int</span><span style="color:#b060b0; ">&gt;</span> a<span style="color:#d2cd86; ">[</span>MAXN<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
<span style="color:#e66170; font-weight:bold; ">int</span> n<span style="color:#d2cd86; ">,</span>comp<span style="color:#d2cd86; ">[</span>MAXN<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
<span style="color:#e66170; font-weight:bold; ">bool</span> ans<span style="color:#d2cd86; ">[</span>MAXN<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
<span style="color:#e66170; font-weight:bold; ">int</span> <span style="color:#e66170; font-weight:bold; ">main</span> <span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
    <span style="color:#e66170; font-weight:bold; ">string</span> formula<span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">cin</span> <span style="color:#d2cd86; ">&gt;</span><span style="color:#d2cd86; ">&gt;</span> formula <span style="color:#b060b0; ">;</span>
    make_implication_graph<span style="color:#d2cd86; ">(</span>formula<span style="color:#d2cd86; ">,</span>n<span style="color:#d2cd86; ">,</span>a<span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span> <span style="color:#90b0e0; ">/// Приемаме, че тази функция прави от формулата formula графа на импликациите, като в n се записва броят променливи</span>
    find_scc<span style="color:#d2cd86; ">(</span>2*n<span style="color:#d2cd86; ">,</span>a<span style="color:#d2cd86; ">,</span></span>comp<span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span> <span style="color:#90b0e0; ">/// Приемаме, че тази функция намира компонентите и в масива comp за всеки връх сме запазили номера на компонентата му</span>

    <span style="color:#e66170; font-weight:bold; ">int</span> i<span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">for</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">&lt;</span>n<span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
        <span style="color:#90b0e0; ">/// За улеснение обикновено считаме, че връх с номер 2*i отговора за променлива i, а връх с номер 2*i+1 за отрицанието ѝ</span>
        <span style="color:#e66170; font-weight:bold; ">if</span> <span style="color:#d2cd86; ">(</span>comp<span style="color:#d2cd86; ">[</span><span style="color:#008c00; ">2</span><span style="color:#d2cd86; ">*</span>i<span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">&gt;</span>comp<span style="color:#d2cd86; ">[</span><span style="color:#008c00; ">2</span><span style="color:#d2cd86; ">*</span>i<span style="color:#d2cd86; ">+</span><span style="color:#008c00; ">1</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">)</span> ans<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">1</span><span style="color:#b060b0; ">;</span>
        <span style="color:#e66170; font-weight:bold; ">else</span> <span style="color:#e66170; font-weight:bold; ">if</span> <span style="color:#d2cd86; ">(</span>comp<span style="color:#d2cd86; ">[</span><span style="color:#008c00; ">2</span><span style="color:#d2cd86; ">*</span>i<span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">=</span><span style="color:#d2cd86; ">=</span>comp<span style="color:#d2cd86; ">[</span><span style="color:#008c00; ">2</span><span style="color:#d2cd86; ">*</span>i<span style="color:#d2cd86; ">+</span><span style="color:#008c00; ">1</span><span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">)</span> <span style="color:#e66170; font-weight:bold; ">break</span><span style="color:#b060b0; ">;</span>
        <span style="color:#e66170; font-weight:bold; ">else</span> ans<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">]</span><span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
        <span style="color:#b060b0; ">}</span>
    <span style="color:#e66170; font-weight:bold; ">if</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">!</span><span style="color:#d2cd86; ">=</span>n<span style="color:#d2cd86; ">)</span> <span style="color:#e66170; font-weight:bold; ">cout</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> <span style="color:#02d045; ">"</span><span style="color:#00c4c4; ">No solution!</span><span style="color:#02d045; ">"</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">else</span> <span style="color:#b060b0; ">{</span>
        <span style="color:#e66170; font-weight:bold; ">for</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">&lt;</span>n<span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
            <span style="color:#e66170; font-weight:bold; ">cout</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> ans<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">]</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> <span style="color:#02d045; ">"</span><span style="color:#00c4c4; "> </span><span style="color:#02d045; ">"</span><span style="color:#b060b0; ">;</span>
            <span style="color:#b060b0; ">}</span>
        <span style="color:#b060b0; ">}</span>
    <span style="color:#e66170; font-weight:bold; ">cout</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> <span style="color:#e66170; font-weight:bold; ">endl</span> <span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
<span style="color:#b060b0; ">}</span>
</pre>
