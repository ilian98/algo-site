<pre style="color:#d1d1d1;background:#343a40;"><span style="color:#e66170; font-weight:bold; ">const</span> <span style="color:#e66170; font-weight:bold; ">long</span> <span style="color:#e66170; font-weight:bold; ">long</span> <span style="color:#e66170; font-weight:bold; ">int</span> mod<span style="color:#d2cd86; ">=</span><span style="color:#009f00; ">1e9</span><span style="color:#d2cd86; ">+</span><span style="color:#008c00; ">9</span><span style="color:#d2cd86; ">,</span>base<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">1009</span><span style="color:#b060b0; ">;</span>
<span style="color:#e66170; font-weight:bold; ">int</span> <span style="color:#e66170; font-weight:bold; ">main</span> <span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
    <span style="color:#e66170; font-weight:bold; ">long</span> <span style="color:#e66170; font-weight:bold; ">long</span> <span style="color:#e66170; font-weight:bold; ">int</span> hash1<span style="color:#d2cd86; ">,</span>hash2<span style="color:#d2cd86; ">,</span><span style="color:#e66170; font-weight:bold; ">pow</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">int</span> n<span style="color:#d2cd86; ">,</span>m<span style="color:#d2cd86; ">,</span>i<span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">string</span> s<span style="color:#d2cd86; ">,</span>model<span style="color:#b060b0; ">;</span>

    <span style="color:#e66170; font-weight:bold; ">ios_base</span><span style="color:#b060b0; ">::</span>sync_with_stdio<span style="color:#d2cd86; ">(</span><span style="color:#e66170; font-weight:bold; ">false</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">cin</span><span style="color:#d2cd86; ">.</span>tie<span style="color:#d2cd86; ">(</span><span style="color:#007d45; ">NULL</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span> <span style="color:#e66170; font-weight:bold; ">cout</span><span style="color:#d2cd86; ">.</span>tie<span style="color:#d2cd86; ">(</span><span style="color:#007d45; ">NULL</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>

    getline<span style="color:#d2cd86; ">(</span><span style="color:#e66170; font-weight:bold; ">cin</span><span style="color:#d2cd86; ">,</span>model<span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span> m<span style="color:#d2cd86; ">=</span>model<span style="color:#d2cd86; ">.</span>size<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
    getline<span style="color:#d2cd86; ">(</span><span style="color:#e66170; font-weight:bold; ">cin</span><span style="color:#d2cd86; ">,</span>s<span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span> n<span style="color:#d2cd86; ">=</span>s<span style="color:#d2cd86; ">.</span>size<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>

    <span style="color:#e66170; font-weight:bold; ">pow</span><span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">1</span><span style="color:#b060b0; ">;</span> hash1<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">for</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">&lt;</span>m<span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
        <span style="color:#e66170; font-weight:bold; ">pow</span><span style="color:#d2cd86; ">*</span><span style="color:#d2cd86; ">=</span>base<span style="color:#b060b0; ">;</span> <span style="color:#e66170; font-weight:bold; ">pow</span><span style="color:#d2cd86; ">%</span><span style="color:#d2cd86; ">=</span>mod<span style="color:#b060b0; ">;</span>
        hash1<span style="color:#d2cd86; ">*</span><span style="color:#d2cd86; ">=</span>base<span style="color:#b060b0; ">;</span> hash1<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">=</span>model<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
        hash1<span style="color:#d2cd86; ">%</span><span style="color:#d2cd86; ">=</span>mod<span style="color:#b060b0; ">;</span>
    <span style="color:#b060b0; ">}</span>

    hash2<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">for</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">=</span><span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">&lt;</span>n<span style="color:#b060b0; ">;</span> i<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
        hash2<span style="color:#d2cd86; ">*</span><span style="color:#d2cd86; ">=</span>base<span style="color:#b060b0; ">;</span> hash2<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">=</span>s<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
        hash2<span style="color:#d2cd86; ">%</span><span style="color:#d2cd86; ">=</span>mod<span style="color:#b060b0; ">;</span>
        <span style="color:#e66170; font-weight:bold; ">if</span> <span style="color:#d2cd86; ">(</span>i<span style="color:#d2cd86; ">&gt;</span><span style="color:#d2cd86; ">=</span>m<span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
           hash2<span style="color:#d2cd86; ">+</span><span style="color:#d2cd86; ">=</span>mod<span style="color:#d2cd86; ">*</span>mod<span style="color:#b060b0; ">;</span> hash2<span style="color:#d2cd86; ">-</span><span style="color:#d2cd86; ">=</span><span style="color:#e66170; font-weight:bold; ">pow</span><span style="color:#d2cd86; ">*</span>s<span style="color:#d2cd86; ">[</span>i<span style="color:#d2cd86; ">-</span>m<span style="color:#d2cd86; ">]</span><span style="color:#b060b0; ">;</span>
           hash2<span style="color:#d2cd86; ">%</span><span style="color:#d2cd86; ">=</span>mod<span style="color:#b060b0; ">;</span>
        <span style="color:#b060b0; ">}</span>
        <span style="color:#e66170; font-weight:bold; ">if</span> <span style="color:#d2cd86; ">(</span>hash2<span style="color:#d2cd86; ">=</span><span style="color:#d2cd86; ">=</span>hash1<span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
           <span style="color:#e66170; font-weight:bold; ">cout</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> <span style="color:#02d045; ">"</span><span style="color:#00c4c4; ">yes</span><span style="color:#008080; ">\n</span><span style="color:#02d045; ">"</span><span style="color:#b060b0; ">;</span>
           <span style="color:#e66170; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
        <span style="color:#b060b0; ">}</span>
    <span style="color:#b060b0; ">}</span>
    <span style="color:#e66170; font-weight:bold; ">cout</span> <span style="color:#d2cd86; ">&lt;</span><span style="color:#d2cd86; ">&lt;</span> <span style="color:#02d045; ">"</span><span style="color:#00c4c4; ">no</span><span style="color:#008080; ">\n</span><span style="color:#02d045; ">"</span><span style="color:#b060b0; ">;</span>
    <span style="color:#e66170; font-weight:bold; ">return</span> <span style="color:#008c00; ">0</span><span style="color:#b060b0; ">;</span>
<span style="color:#b060b0; ">}</span>
</pre>